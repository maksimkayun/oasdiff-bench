# Benchmark для OASDIFF

Этот модуль содержит инструменты для бенчмаркинга производительности библиотеки OASDIFF.

## Настройка

В файле `benchmark.go` есть константы с путями до файлов спецификаций OpenAPI:

```go
const (
	BASE_SPEC_PATH     = "E:\\Workspace\\openapidiff\\ghes-3.8.json"
	REVISION_SPEC_PATH = "E:\\Workspace\\openapidiff\\ghes-3.9.json"
)
```

Эти пути уже настроены для сравнения GitHub Enterprise Server (GHES) версий 3.8 и 3.9.

## Запуск бенчмарков

Самый простой способ запустить бенчмарки - использовать скрипт `run.bat`:

```
run.bat
```

Этот скрипт соберет бенчмарк и запустит как базовый, так и расширенный тесты.

### Ручной запуск

Вы также можете запустить бенчмарки вручную:

```bash
# Сборка
go build -o oasdiff-benchmark.exe benchmark.go

# Базовый бенчмарк
oasdiff-benchmark.exe

# Расширенный бенчмарк
oasdiff-benchmark.exe advanced
```

## Режимы работы

### Базовый бенчмарк

Базовый бенчмарк запускает 5 итераций сравнения спецификаций и показывает среднее время выполнения.

### Расширенный бенчмарк

Расширенный бенчмарк предоставляет более подробную информацию:
- Количество эндпоинтов в каждой спецификации
- Общее количество выявленных изменений
- Время загрузки спецификаций
- Время вычисления различий
- Общее время обработки
- Использование памяти

## Тестовые файлы

Для тестирования используются файлы спецификаций OpenAPI:
- `ghes-3.8.json` - GitHub Enterprise Server API 3.8
- `ghes-3.9.json` - GitHub Enterprise Server API 3.9

## Результаты

Результаты бенчмарка выводятся в консоль и могут использоваться для:
1. Оценки производительности текущей реализации
2. Измерения влияния изменений кода на производительность
3. Определения требований к ресурсам для больших спецификаций
